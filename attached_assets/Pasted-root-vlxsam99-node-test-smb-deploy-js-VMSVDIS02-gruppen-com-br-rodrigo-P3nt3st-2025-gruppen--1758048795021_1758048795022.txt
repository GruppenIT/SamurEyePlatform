root@vlxsam99:~# node test-smb-deploy.js VMSVDIS02.gruppen.com.br rodrigo P3nt3st@2025@.! gruppen
🔧 SamurEye - Teste SMB Deploy
================================
📡 Target: VMSVDIS02.gruppen.com.br
👤 User: gruppen\rodrigo
⏰ Timestamp: 2025-09-16T18:53:19.172Z

🔍 Verificando smbclient...
[DEBUG] Executando: which smbclient
✅ smbclient encontrado: /usr/bin/smbclient
📄 Arquivo EICAR criado: /tmp/test_eicar_1758048799168.txt
🔐 Arquivo auth criado: /tmp/smbauth_test_1758048799168

🌐 Testando conectividade básica...
Executando: smbclient //VMSVDIS02.gruppen.com.br/C$ -A /tmp/smbauth_test_1758048799168 -c ls
[DEBUG] Executando: smbclient //VMSVDIS02.gruppen.com.br/C$ -A /tmp/smbauth_test_1758048799168 -c ls
✅ Conectividade básica OK
📋 Conteúdo do C$:
$694488EF0D92482E885479779E0186A6     DH        0  Wed Oct  9 14:46:38 2024
  $Recycle.Bin                      DHS        0  Tue Aug  5 16:34:07 2025
  $WinREAgent                        DH        0  Wed Jun 11 04:11:14 2025
  .rnd                                A     1024  Mon Jul 22 14:41:01 2024
  auditconfig.cfg                     A     3485  Wed Apr 23 16:34:56 2025
  bootTel.dat                        HS      112  Thu Feb  1 19:07:24 2024
  Config.Msi                        DHS        0 ...

📤 Testando deployment do arquivo EICAR...
Executando: smbclient //VMSVDIS02.gruppen.com.br/C$ -A /tmp/smbauth_test_1758048799168 -c put "/tmp/test_eicar_1758048799168.txt" "Windows\Temp\samureye_test_1758048799168.txt"
[DEBUG] Executando: smbclient //VMSVDIS02.gruppen.com.br/C$ -A /tmp/smbauth_test_1758048799168 -c put "/tmp/test_eicar_1758048799168.txt" "Windows\Temp\samureye_test_1758048799168.txt"

📊 RESULTADO DO DEPLOYMENT:
═══════════════════════════
Exit Code: 0
STDOUT:
STDERR: putting file /tmp/test_eicar_1758048799168.txt as \Windows\Temp\samureye_test_1758048799168.txt (0.3 kb/s) (average 0.3 kb/s)
✅ DEPLOYMENT COM SUCESSO!

🔍 Verificando se arquivo foi criado...
[DEBUG] Executando: smbclient //VMSVDIS02.gruppen.com.br/C$ -A /tmp/smbauth_test_1758048799168 -c ls "Windows\Temp\samureye_test_1758048799168.txt"
✅ Arquivo confirmado no destino!

🧹 Limpando arquivo de teste...
[DEBUG] Executando: smbclient //VMSVDIS02.gruppen.com.br/C$ -A /tmp/smbauth_test_1758048799168 -c del "Windows\Temp\samureye_1test_1758048799168.txt"
⚠️ Falha na limpeza (arquivo pode ter sido removido pelo AV)
STDERR:

🧹 Arquivos temporários limpos
root@vlxsam99:~#